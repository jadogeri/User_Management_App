{"file":"C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\src\\database\\seeds\\status.seed.ts","mappings":";;AAGA,gEAAsD;AACtD,wDAAqF;AAErF,MAAqB,YAAY;IACjC;;;;;;;SAOK;IACI,KAAK,CAAC,GAAG,CAAC,UAAsB;QACrC,MAAM,gBAAgB,GAAG,UAAU,CAAC,aAAa,CAAC,sBAAM,CAAC,CAAC;QAC1D,MAAM,QAAQ,GAAG,CAAC,2BAAa,EAAE,4BAAc,EAAE,0BAAY,CAAC,CAAC;QAE/D,KAAK,MAAM,MAAM,IAAI,QAAQ,EAAE,CAAC;YAC9B,2CAA2C;YAC3C,MAAM,cAAc,GAAG,MAAM,gBAAgB,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;YAE3E,IAAI,CAAC,cAAc,EAAE,CAAC;gBACpB,MAAM,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACtC,CAAC;QACH,CAAC;IACH,CAAC;CACF;AAtBD,+BAsBC","names":[],"sources":["C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\src\\database\\seeds\\status.seed.ts"],"sourcesContent":["// src/database/seeds/StatusSeeder.ts\r\nimport { DataSource } from 'typeorm';\r\nimport { Seeder } from 'typeorm-extension';\r\nimport { Status } from '../../entities/status.entity';\r\nimport { EnabledStatus, DisabledStatus, LockedStatus } from '../../data/status.data';\r\n\r\nexport default class StatusSeeder implements Seeder {\r\n/**\r\n   * Checks for the existence of predefined status entities in the database \r\n   * and saves them if they do not already exist. \r\n   * \r\n   * @param dataSource - The data source used to access the repository.\r\n   * @returns A promise that resolves to void.\r\n   * @throws Any errors thrown by the repository methods during execution.\r\n   */\r\n  public async run(dataSource: DataSource): Promise<void> {\r\n    const statusRepository = dataSource.getRepository(Status);\r\n    const statuses = [EnabledStatus, DisabledStatus, LockedStatus];\r\n    \r\n    for (const status of statuses) {\r\n      // Check if the status already exists by ID\r\n      const existingStatus = await statusRepository.findOneBy({ id: status.id });\r\n      \r\n      if (!existingStatus) {\r\n        await statusRepository.save(status);\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"version":3}