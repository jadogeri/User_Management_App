{"file":"C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\src\\tools\\mail\\utils\\loadTemplate.ts","mappings":";;;;;AAaA,oCAgBC;AA7BD,0DAA6B;AAE7B,mCAAmC;AACnC,MAAM,aAAa,GAAI,OAAO,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAA;AAG/D;;;;;;GAMG;AACI,KAAK,UAAU,YAAY,CAAE,YAAoB,EAAE,SAAoB;IAC1E,IAAI,QAAQ,GAAG,IAAI,aAAa,CAAC,mBAAI,CAAC,IAAI,CAAC,SAAS,GAAG,MAAM,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;IAC3F,MAAM,WAAW,GAAI,IAAI,OAAO,CAAC,CAAC,OAAwD,EAAE,MAA2B,EAAE,EAAE;QACvH,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,GAAU,EAAE,MAAW,EAAE,EAAE;YACnD,IAAI,GAAG,EAAE,CAAC;gBACN,OAAO,MAAM,CAAC,GAAG,CAAC,CAAA;YACtB,CAAC;iBAAM,CAAC;gBACJ,OAAO,OAAO,CAAC,EAAG,KAAK,EAAE,MAAM,EAAE,SAAS,EAAG,SAAS;iBACzD,CAAC,CAAC;YACP,CAAC;QACD,CAAC,CAAC,CAAA;IACN,CAAC,CAAC,CAAC;IAEH,IAAI,KAAK,GAAG,MAAM,WAAW,CAAC;IAC9B,OAAO,KAAK,CAAC;AAEjB,CAAC;AAED,MAAM,CAAC,OAAO,GAAG,EAAE,YAAY,EAAE,CAAA","names":[],"sources":["C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\src\\tools\\mail\\utils\\loadTemplate.ts"],"sourcesContent":["import path from \"node:path\";\r\nimport { Recipient } from \"../../../types/recipient.type\";\r\n//import {Promise} from 'bluebird';\r\nconst EmailTemplate  = require('email-templates').EmailTemplate \r\n\r\n\r\n/**\r\n * Loads and renders an email template for a specified recipient.\r\n * @param templateName - The name of the email template to load.\r\n * @param recipient - The recipient object containing the necessary data for rendering the template.\r\n * @returns A promise that resolves with an object containing the rendered email and recipient data.\r\n * @throws Will reject the promise if there is an error during template rendering.\r\n */\r\nexport async function loadTemplate (templateName: string, recipient: Recipient) {\r\n    let template = new EmailTemplate(path.join(__dirname + \"/../\", 'templates', templateName));\r\n    const dataPromise =  new Promise((resolve: (arg0: { email: any; recipient: any; }) => void, reject: (arg0: any) => void) => {\r\n        template.render(recipient, (err: Error, result: any) => {\r\n            if (err ){ \r\n                return reject(err)\r\n            } else {\r\n                return resolve({  email: result, recipient : recipient,\r\n            });\r\n        }\r\n        })\r\n    });\r\n\r\n    let value = await dataPromise;\r\n    return value;\r\n    \r\n}\r\n\r\nmodule.exports = { loadTemplate }\r\n\r\n"],"version":3}