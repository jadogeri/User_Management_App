{"file":"C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\src\\middlewares\\global-error-handler.middleware.ts","mappings":";;;AACA,+BAAqC;AACrC,qDAAiD;AACjD,mDAA+C;AACxC,MAAM,kBAAkB,GAAG,CAAC,GAAa,EAAE,GAAa,EAAE,GAAc,EAAE,IAAmB,EAAE,EAAE;IAEtG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACnB,IAAI,GAAG,YAAY,oBAAa,EAAE,CAAC;QACjC,OAAO,CAAC,IAAI,CAAC,+BAA+B,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;QACrE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,mBAAmB;YAC5B,OAAO,EAAE,GAAG,EAAE,MAAM;SACrB,CAAC,CAAC;IACL,CAAC;IACD,IAAG,GAAG,YAAY,sBAAS,EAAC,CAAC;QAC3B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;YACrC,OAAO,EAAE,GAAG,CAAC,OAAO;SACrB,CAAC,CAAC;IACL,CAAC;IACD,IAAI,GAAG,YAAY,oBAAQ,EAAE,CAAC;QAC5B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;YACnC,KAAK,EAAE,GAAG,CAAC,KAAK;YAChB,OAAO,EAAE,GAAG,CAAC,OAAO;YACpB,UAAU,EAAE,GAAG,CAAC,UAAU;YAC1B,UAAU,EAAE,GAAG,CAAC,KAAK;SAExB,CAAC,CAAC;IACL,CAAC;IACD,gCAAgC;IAChC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QAC1B,OAAO,EAAE,mCAAmC;KAC7C,CAAC,CAAC;AAEL,CAAC,CAAA;AA7BY,QAAA,kBAAkB,sBA6B9B","names":[],"sources":["C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\src\\middlewares\\global-error-handler.middleware.ts"],"sourcesContent":["import { Response, Request,NextFunction } from \"express\";\r\nimport { ValidateError } from \"tsoa\";\r\nimport { HttpError } from \"../errors/http.error\";\r\nimport { ApiError } from \"../errors/api.error\";\r\nexport const globalErrorHandler = (err : unknown, req : Request, res : Response, next : NextFunction) => {\r\n\r\n  console.error(err); \r\n  if (err instanceof ValidateError) {\r\n    console.warn(`Caught Validation Error for ${req.path}:`, err.fields);\r\n    return res.status(422).json({\r\n      message: \"Validation Failed\",\r\n      details: err?.fields,\r\n    });\r\n  }\r\n  if(err instanceof HttpError){\r\n    return res.status(err.statusCode).json({\r\n      message: err.message,\r\n    });\r\n  }\r\n  if (err instanceof ApiError) {\r\n    return res.status(err.statusCode).json({\r\n        title: err.title,\r\n        message: err.message,\r\n        statusCode: err.statusCode,\r\n        stackTrace: err.stack,\r\n      \r\n    });\r\n  }  \r\n  // Generic internal server error\r\n  return res.status(500).json({\r\n    message: 'An internal server error occurred',\r\n  });\r\n\r\n}\r\n"],"version":3}