{"file":"C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\tests\\unit\\utils\\errorResponseGenerator.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\tests\\unit\\utils\\errorResponseGenerator.test.ts"],"sourcesContent":["import User from \"../../../src/entities/user.entity\";\r\nimport { errorResponseGenerator } from '../../../src/utils/error-response-generator.util';\r\n\r\n// Jest mock for User\r\n\r\n// Jest mock for ErrorResponse\r\nconst mockSetEmail = jest.fn();\r\nconst mockSetUsername = jest.fn();\r\n\r\njest.mock(\"../../../src/models/error-response.model\", () => {\r\n  return {\r\n    ErrorResponse: jest.fn().mockImplementation((statusCode: number, message: string) => {\r\n      return {\r\n        getCode: () => statusCode,\r\n        getMessage: () => message,\r\n        setEmail: jest.mocked(mockSetEmail),\r\n        setUsername: jest.mocked(mockSetUsername),\r\n      };\r\n    }),\r\n  };\r\n});\r\n\r\ndescribe('errorResponseGenerator() errorResponseGenerator method', () => {\r\n  // Happy Path Tests\r\n  describe('Happy paths', () => {\r\n    beforeEach(() => {\r\n      jest.clearAllMocks();\r\n    });\r\n\r\n    it('should generate an ErrorResponse with correct statusCode, message, email, and username', () => {\r\n      // Test: Standard input values\r\n      const statusCode = 400;\r\n      const message = 'Invalid request';\r\n      const user = {\r\n        email: 'user1@example.com',\r\n        username: 'user1',\r\n      } as unknown as jest.Mocked<User>;\r\n\r\n      const result = errorResponseGenerator(statusCode, message, user);\r\n\r\n      expect(result.getCode()).toBe(statusCode);\r\n      expect(result.getMessage()).toBe(message);\r\n      expect(mockSetEmail).toHaveBeenCalledWith('user1@example.com');\r\n      expect(mockSetUsername).toHaveBeenCalledWith('user1');\r\n    });\r\n\r\n    it('should handle different status codes and messages', () => {\r\n      // Test: Different status code and message\r\n      const statusCode = 404;\r\n      const message = 'Not found';\r\n      const user = {\r\n        email: 'user2@example.com',\r\n        username: 'user2',\r\n      } as unknown as jest.Mocked<User>;\r\n\r\n      const result = errorResponseGenerator(statusCode, message, user);\r\n\r\n      expect(result.getCode()).toBe(statusCode);\r\n      expect(result.getMessage()).toBe(message);\r\n      expect(mockSetEmail).toHaveBeenCalledWith('user2@example.com');\r\n      expect(mockSetUsername).toHaveBeenCalledWith('user2');\r\n    });\r\n\r\n    it('should work with long strings for email and username', () => {\r\n      // Test: Long string values\r\n      const statusCode = 500;\r\n      const message = 'Internal server error';\r\n      const user = {\r\n        email: 'averylongemailaddressfortestingpurposes@example.com',\r\n        username: 'averylongusernametotestedgecases',\r\n      } as unknown as jest.Mocked<User>;\r\n\r\n      const result = errorResponseGenerator(statusCode, message, user);\r\n\r\n      expect(result.getCode()).toBe(statusCode);\r\n      expect(result.getMessage()).toBe(message);\r\n      expect(mockSetEmail).toHaveBeenCalledWith('averylongemailaddressfortestingpurposes@example.com');\r\n      expect(mockSetUsername).toHaveBeenCalledWith('averylongusernametotestedgecases');\r\n    });\r\n  });\r\n\r\n  // Edge Case Tests\r\n  describe('Edge cases', () => {\r\n    beforeEach(() => {\r\n      jest.clearAllMocks();\r\n    });\r\n\r\n    it('should handle empty string for email and username', () => {\r\n      // Test: Empty string values\r\n      const statusCode = 401;\r\n      const message = 'Unauthorized';\r\n      const user = {\r\n        email: '',\r\n        username: '',\r\n      } as unknown as jest.Mocked<User>;\r\n\r\n      const result = errorResponseGenerator(statusCode, message, user);\r\n\r\n      expect(result.getCode()).toBe(statusCode);\r\n      expect(result.getMessage()).toBe(message);\r\n      expect(mockSetEmail).toHaveBeenCalledWith('');\r\n      expect(mockSetUsername).toHaveBeenCalledWith('');\r\n    });\r\n\r\n    it('should handle special characters in email and username', () => {\r\n      // Test: Special characters\r\n      const statusCode = 403;\r\n      const message = 'Forbidden';\r\n      const user = {\r\n        email: 'weird+chars!@example.com',\r\n        username: 'user!@#',\r\n      } as unknown as jest.Mocked<User>;\r\n\r\n      const result = errorResponseGenerator(statusCode, message, user);\r\n\r\n      expect(result.getCode()).toBe(statusCode);\r\n      expect(result.getMessage()).toBe(message);\r\n      expect(mockSetEmail).toHaveBeenCalledWith('weird+chars!@example.com');\r\n      expect(mockSetUsername).toHaveBeenCalledWith('user!@#');\r\n    });\r\n\r\n    it('should handle zero and negative status codes', () => {\r\n      // Test: Zero status code\r\n      const statusCodeZero = 0;\r\n      const messageZero = 'Zero status';\r\n      const userZero = {\r\n        email: 'zero@example.com',\r\n        username: 'zero',\r\n      } as unknown as jest.Mocked<User>;\r\n\r\n      const resultZero = errorResponseGenerator(statusCodeZero, messageZero, userZero);\r\n\r\n      expect(resultZero.getCode()).toBe(statusCodeZero);\r\n      expect(resultZero.getMessage()).toBe(messageZero);\r\n      expect(mockSetEmail).toHaveBeenCalledWith('zero@example.com');\r\n      expect(mockSetUsername).toHaveBeenCalledWith('zero');\r\n\r\n      // Test: Negative status code\r\n      const statusCodeNegative = -1;\r\n      const messageNegative = 'Negative status';\r\n      const userNegative = {\r\n        email: 'negative@example.com',\r\n        username: 'negative',\r\n      } as unknown as jest.Mocked<User>;\r\n\r\n      const resultNegative = errorResponseGenerator(statusCodeNegative, messageNegative, userNegative);\r\n\r\n      expect(resultNegative.getCode()).toBe(statusCodeNegative);\r\n      expect(resultNegative.getMessage()).toBe(messageNegative);\r\n      expect(mockSetEmail).toHaveBeenCalledWith('negative@example.com');\r\n      expect(mockSetUsername).toHaveBeenCalledWith('negative');\r\n    });\r\n\r\n    it('should handle empty string message', () => {\r\n      // Test: Empty message string\r\n      const statusCode = 418;\r\n      const message = '';\r\n      const user = {\r\n        email: 'emptymsg@example.com',\r\n        username: 'emptymsg',\r\n      } as unknown as jest.Mocked<User>;\r\n\r\n      const result = errorResponseGenerator(statusCode, message, user);\r\n\r\n      expect(result.getCode()).toBe(statusCode);\r\n      expect(result.getMessage()).toBe('');\r\n      expect(mockSetEmail).toHaveBeenCalledWith('emptymsg@example.com');\r\n      expect(mockSetUsername).toHaveBeenCalledWith('emptymsg');\r\n    });\r\n  });\r\n});"],"version":3}