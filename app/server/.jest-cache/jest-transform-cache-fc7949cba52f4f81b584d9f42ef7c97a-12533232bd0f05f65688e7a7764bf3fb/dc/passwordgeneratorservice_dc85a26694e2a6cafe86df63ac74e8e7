ffde32a84f4f18c51accfe52074a3d10
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.PasswordGeneratorService = void 0;
const decorators_1 = require("../decorators");
const bcrypt = __importStar(require("bcrypt"));
const bcrypt_1 = require("bcrypt");
let PasswordGeneratorService = class PasswordGeneratorService {
    updateUUID() {
        throw new Error("Method not implemented.");
    }
    getUUID() {
        throw new Error("Method not implemented.");
    }
    generateUUID() {
        throw new Error("Method not implemented.");
    }
    async generateHashedPassword(plainTextPassword) {
        console.log("Generating hashed password with salt rounds:", process.env.BCRYPT_SALT_ROUNDS);
        const saltRoundsEnv = process.env.BCRYPT_SALT_ROUNDS;
        if (!saltRoundsEnv) {
            throw new Error("BCRYPT_SALT_ROUNDS is not defined in environment variables");
        }
        console.log("Plain text password:", plainTextPassword);
        const hashedPassword = await (0, bcrypt_1.hash)(plainTextPassword, Number.parseInt(saltRoundsEnv));
        return hashedPassword;
    }
    async comparePassword(plainTextPassword, hashedPassword) {
        return await bcrypt.compare(plainTextPassword, hashedPassword);
    }
};
exports.PasswordGeneratorService = PasswordGeneratorService;
exports.PasswordGeneratorService = PasswordGeneratorService = __decorate([
    (0, decorators_1.Service)()
], PasswordGeneratorService);
exports.default = PasswordGeneratorService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxKb3NlcGhcXERlc2t0b3BcXFNvdXJjZVxcVXNlcl9NYW5hZ2VtZW50X0FwcFxcYXBwXFxzZXJ2ZXJcXHNyY1xcc2VydmljZXNcXHBhc3N3b3JkLWdlbmVyYXRvci5zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDhDQUF3QztBQUN4QywrQ0FBaUM7QUFDakMsbUNBQTRCO0FBS3JCLElBQU0sd0JBQXdCLEdBQTlCLE1BQU0sd0JBQXdCO0lBRWpDLFVBQVU7UUFDTixNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUNELE9BQU87UUFDSCxNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUNELFlBQVk7UUFDUixNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUNELEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBeUI7UUFDbEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyw4Q0FBOEMsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDNUYsTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNyRCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw0REFBNEQsQ0FBQyxDQUFDO1FBQ2xGLENBQUM7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDdkQsTUFBTSxjQUFjLEdBQVksTUFBTSxJQUFBLGFBQUksRUFBQyxpQkFBaUIsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLGFBQXVCLENBQUMsQ0FBQyxDQUFDO1FBQ3hHLE9BQU8sY0FBYyxDQUFDO0lBQzFCLENBQUM7SUFDRCxLQUFLLENBQUMsZUFBZSxDQUFDLGlCQUF5QixFQUFFLGNBQXNCO1FBQ25FLE9BQU8sTUFBTSxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ25FLENBQUM7Q0FFSixDQUFBO0FBekJZLDREQUF3QjttQ0FBeEIsd0JBQXdCO0lBRHBDLElBQUEsb0JBQU8sR0FBRTtHQUNHLHdCQUF3QixDQXlCcEM7QUFFRCxrQkFBZSx3QkFBd0IsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXEpvc2VwaFxcRGVza3RvcFxcU291cmNlXFxVc2VyX01hbmFnZW1lbnRfQXBwXFxhcHBcXHNlcnZlclxcc3JjXFxzZXJ2aWNlc1xccGFzc3dvcmQtZ2VuZXJhdG9yLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VydmljZSB9IGZyb20gXCIuLi9kZWNvcmF0b3JzXCI7XHJcbmltcG9ydCAqIGFzIGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XHJcbmltcG9ydCB7aGFzaH0gZnJvbSBcImJjcnlwdFwiO1xyXG5pbXBvcnQgeyBQYXNzd29yZEdlbmVyYXRvckludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL3Bhc3N3b3JkLWdlbmVyYXRvci5pbnRlcmZhY2VcIjtcclxuXHJcblxyXG5AU2VydmljZSgpXHJcbmV4cG9ydCBjbGFzcyBQYXNzd29yZEdlbmVyYXRvclNlcnZpY2UgaW1wbGVtZW50cyBQYXNzd29yZEdlbmVyYXRvckludGVyZmFjZXtcclxuXHJcbiAgICB1cGRhdGVVVUlEKCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgZ2V0VVVJRCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVVVUlEKCk6IHN0cmluZyB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBhc3luYyBnZW5lcmF0ZUhhc2hlZFBhc3N3b3JkKHBsYWluVGV4dFBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiR2VuZXJhdGluZyBoYXNoZWQgcGFzc3dvcmQgd2l0aCBzYWx0IHJvdW5kczpcIiwgcHJvY2Vzcy5lbnYuQkNSWVBUX1NBTFRfUk9VTkRTKTtcclxuICAgICAgICBjb25zdCBzYWx0Um91bmRzRW52ID0gcHJvY2Vzcy5lbnYuQkNSWVBUX1NBTFRfUk9VTkRTO1xyXG4gICAgICAgIGlmICghc2FsdFJvdW5kc0Vudikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCQ1JZUFRfU0FMVF9ST1VORFMgaXMgbm90IGRlZmluZWQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBsYWluIHRleHQgcGFzc3dvcmQ6XCIsIHBsYWluVGV4dFBhc3N3b3JkKTtcclxuICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA6IHN0cmluZyA9IGF3YWl0IGhhc2gocGxhaW5UZXh0UGFzc3dvcmQsIE51bWJlci5wYXJzZUludChzYWx0Um91bmRzRW52IGFzIHN0cmluZykpO1xyXG4gICAgICAgIHJldHVybiBoYXNoZWRQYXNzd29yZDtcclxuICAgIH1cclxuICAgIGFzeW5jIGNvbXBhcmVQYXNzd29yZChwbGFpblRleHRQYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBsYWluVGV4dFBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZCk7XHJcbiAgICB9XHJcblxyXG59ICAgIFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFzc3dvcmRHZW5lcmF0b3JTZXJ2aWNlO1xyXG4iXSwidmVyc2lvbiI6M30=