{"file":"C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\tests\\unit\\utils\\generateRandomUUID.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\Joseph\\Desktop\\Source\\User_Management_App\\app\\server\\tests\\unit\\utils\\generateRandomUUID.test.ts"],"sourcesContent":["import { customAlphabet } from \"nanoid\";\r\nimport { generateRandomUUID } from '../../../src/utils/generate-random-uuid.util';\r\n\r\n// app/server/src/utils/generate-random-uuid.util.spec.ts\r\n// Mock customAlphabet from nanoid\r\njest.mock(\"nanoid\", () => ({\r\n  customAlphabet: jest.fn(),\r\n}));\r\n\r\n// Mock nolookalikes from nanoid-dictionary\r\njest.mock(\"nanoid-dictionary\", () => ({\r\n  nolookalikes: 'abcdef123456',\r\n}));\r\n\r\ndescribe('generateRandomUUID() generateRandomUUID method', () => {\r\n  // Happy Paths\r\n  describe('Happy paths', () => {\r\n    beforeEach(() => {\r\n      // Reset mock before each test\r\n      (customAlphabet as jest.Mock).mockReset();\r\n    });\r\n\r\n    it('should generate a random string of the specified length (length = 10)', () => {\r\n      // This test aims to verify that the function returns a string of the correct length.\r\n      const mockNanoid = jest.fn().mockReturnValue('abcdefghij');\r\n      (customAlphabet as jest.Mock).mockReturnValue(mockNanoid);\r\n\r\n      const result = generateRandomUUID(10);\r\n\r\n      expect(customAlphabet).toHaveBeenCalledWith('abcdef123456', 10);\r\n      expect(mockNanoid).toHaveBeenCalled();\r\n      expect(result).toBe('abcdefghij');\r\n      expect(result.length).toBe(10);\r\n    });\r\n\r\n    it('should generate a random string of the specified length (length = 1)', () => {\r\n      // This test aims to verify that the function works for the minimum valid length of 1.\r\n      const mockNanoid = jest.fn().mockReturnValue('a');\r\n      (customAlphabet as jest.Mock).mockReturnValue(mockNanoid);\r\n\r\n      const result = generateRandomUUID(1);\r\n\r\n      expect(customAlphabet).toHaveBeenCalledWith('abcdef123456', 1);\r\n      expect(mockNanoid).toHaveBeenCalled();\r\n      expect(result).toBe('a');\r\n      expect(result.length).toBe(1);\r\n    });\r\n\r\n    it('should generate different strings for different lengths', () => {\r\n      // This test aims to verify that the function returns strings of the correct, varying lengths.\r\n      const mockNanoid5 = jest.fn().mockReturnValue('abcde');\r\n      const mockNanoid8 = jest.fn().mockReturnValue('abcdefgh');\r\n      (customAlphabet as jest.Mock)\r\n        .mockReturnValueOnce(mockNanoid5)\r\n        .mockReturnValueOnce(mockNanoid8);\r\n\r\n      const result5 = generateRandomUUID(5);\r\n      const result8 = generateRandomUUID(8);\r\n\r\n      expect(result5).toBe('abcde');\r\n      expect(result5.length).toBe(5);\r\n      expect(result8).toBe('abcdefgh');\r\n      expect(result8.length).toBe(8);\r\n    });\r\n  });\r\n\r\n  // Edge Cases\r\n  describe('Edge cases', () => {\r\n    beforeEach(() => {\r\n      (customAlphabet as jest.Mock).mockReset();\r\n    });\r\n\r\n    it('should throw an error if length is negative', () => {\r\n      // This test aims to verify that the function throws an error for negative length.\r\n      expect(() => generateRandomUUID(-1)).toThrow('Invalid length');\r\n      expect(customAlphabet).not.toHaveBeenCalled();\r\n    });\r\n\r\n    it('should allow length of zero (returns empty string)', () => {\r\n      // This test aims to verify that the function allows length zero and returns an empty string.\r\n      // According to the implementation, only length < 0 throws, so length 0 is allowed.\r\n      const mockNanoid = jest.fn().mockReturnValue('');\r\n      (customAlphabet as jest.Mock).mockReturnValue(mockNanoid);\r\n\r\n      const result = generateRandomUUID(0);\r\n\r\n      expect(customAlphabet).toHaveBeenCalledWith('abcdef123456', 0);\r\n      expect(mockNanoid).toHaveBeenCalled();\r\n      expect(result).toBe('');\r\n      expect(result.length).toBe(0);\r\n    });\r\n\r\n    it('should handle very large length values', () => {\r\n      // This test aims to verify that the function can handle large length values.\r\n      const largeLength = 1000;\r\n      const mockString = 'a'.repeat(largeLength);\r\n      const mockNanoid = jest.fn().mockReturnValue(mockString);\r\n      (customAlphabet as jest.Mock).mockReturnValue(mockNanoid);\r\n\r\n      const result = generateRandomUUID(largeLength);\r\n\r\n      expect(customAlphabet).toHaveBeenCalledWith('abcdef123456', largeLength);\r\n      expect(mockNanoid).toHaveBeenCalled();\r\n      expect(result).toBe(mockString);\r\n      expect(result.length).toBe(largeLength);\r\n    });\r\n\r\n    it('should use the nolookalikes alphabet from nanoid-dictionary', () => {\r\n      // This test aims to verify that the function uses the nolookalikes alphabet.\r\n      const mockNanoid = jest.fn().mockReturnValue('abc');\r\n      (customAlphabet as jest.Mock).mockReturnValue(mockNanoid);\r\n\r\n      generateRandomUUID(3);\r\n\r\n      expect(customAlphabet).toHaveBeenCalledWith('abcdef123456', 3);\r\n    });\r\n  });\r\n});"],"version":3}