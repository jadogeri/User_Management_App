4f5fafcb103f0c4343f05a7a0d64a863
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d, _e;
Object.defineProperty(exports, "__esModule", { value: true });
exports.UserService = void 0;
const decorators_1 = require("../decorators");
const binding_type_1 = require("../types/binding.type");
const auth_service_interface_1 = require("../interfaces/auth-service.interface");
const user_repository_interface_1 = require("../interfaces/user-repository.interface");
const email_service_interface_1 = require("../interfaces/email-service.interface");
const token_generator_interface_1 = require("../interfaces/token-generator.interface");
const password_generator_interface_1 = require("../interfaces/password-generator.interface");
const resource_not_found_error_1 = require("../errors/resource-not-found.error");
let UserService = class UserService {
    async getOne(userId) {
        const user = await this.userRepository.findById(userId);
        if (!user) {
            throw new resource_not_found_error_1.ResourceNotFoundError(`User with ID ${userId} not found.`);
        }
        const userResponse = {
            username: user.username,
            email: user.email,
            phone: user.phone,
            failedLogins: user.failedLogins,
            isEnabled: user.isEnabled,
            id: user.id,
            createdAt: user.createdAt,
            updatedAt: user.updatedAt,
            fullname: user.fullname
        };
        return userResponse;
    }
    getAll() {
        throw new Error("Method not implemented.");
    }
    modify() {
        throw new Error("Method not implemented.");
    }
    reactivate() {
        throw new Error("Method not implemented.");
    }
    deactivate() {
        throw new Error("Method not implemented.");
    }
};
exports.UserService = UserService;
__decorate([
    (0, decorators_1.AutoWired)(binding_type_1.TYPES.UserRepositoryInterface),
    __metadata("design:type", typeof (_a = typeof user_repository_interface_1.UserRepositoryInterface !== "undefined" && user_repository_interface_1.UserRepositoryInterface) === "function" ? _a : Object)
], UserService.prototype, "userRepository", void 0);
__decorate([
    (0, decorators_1.AutoWired)(binding_type_1.TYPES.EmailServiceInterface),
    __metadata("design:type", typeof (_b = typeof email_service_interface_1.EmailServiceInterface !== "undefined" && email_service_interface_1.EmailServiceInterface) === "function" ? _b : Object)
], UserService.prototype, "emailService", void 0);
__decorate([
    (0, decorators_1.AutoWired)(binding_type_1.TYPES.AuthServiceInterface),
    __metadata("design:type", typeof (_c = typeof auth_service_interface_1.AuthServiceInterface !== "undefined" && auth_service_interface_1.AuthServiceInterface) === "function" ? _c : Object)
], UserService.prototype, "authService", void 0);
__decorate([
    (0, decorators_1.AutoWired)(binding_type_1.TYPES.TokenGeneratorInterface),
    __metadata("design:type", typeof (_d = typeof token_generator_interface_1.TokenGeneratorInterface !== "undefined" && token_generator_interface_1.TokenGeneratorInterface) === "function" ? _d : Object)
], UserService.prototype, "tokenGeneratorService", void 0);
__decorate([
    (0, decorators_1.AutoWired)(binding_type_1.TYPES.PasswordGeneratorInterface),
    __metadata("design:type", typeof (_e = typeof password_generator_interface_1.PasswordGeneratorInterface !== "undefined" && password_generator_interface_1.PasswordGeneratorInterface) === "function" ? _e : Object)
], UserService.prototype, "passwordGeneratorService", void 0);
exports.UserService = UserService = __decorate([
    (0, decorators_1.Service)()
], UserService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxKb3NlcGhcXERlc2t0b3BcXFNvdXJjZVxcVXNlcl9NYW5hZ2VtZW50X0FwcFxcYXBwXFxzZXJ2ZXJcXHNyY1xcc2VydmljZXNcXHVzZXIuc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsOENBQW1EO0FBSW5ELHdEQUE4QztBQUc5QyxpRkFBNEU7QUFLNUUsdUZBQWtGO0FBS2xGLG1GQUE4RTtBQUM5RSx1RkFBa0Y7QUFDbEYsNkZBQXdGO0FBUXhGLGlGQUEyRTtBQUdwRSxJQUFNLFdBQVcsR0FBakIsTUFBTSxXQUFXO0lBZXBCLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBYztRQUN2QixNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hELElBQUcsQ0FBQyxJQUFJLEVBQUMsQ0FBQztZQUNOLE1BQU0sSUFBSSxnREFBcUIsQ0FBQyxnQkFBZ0IsTUFBTSxhQUFhLENBQUMsQ0FBQztRQUN6RSxDQUFDO1FBQ0QsTUFBTSxZQUFZLEdBQXdCO1lBQ3RDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN2QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWTtZQUMvQixTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7WUFDekIsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ1gsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTO1lBQ3pCLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztZQUN6QixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7U0FDMUIsQ0FBQTtRQUNELE9BQU8sWUFBWSxDQUFDO0lBQ3hCLENBQUM7SUFDRCxNQUFNO1FBQ0YsTUFBTSxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxNQUFNO1FBQ0YsTUFBTSxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxVQUFVO1FBQ04sTUFBTSxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxVQUFVO1FBQ04sTUFBTSxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQy9DLENBQUM7Q0FFSixDQUFBO0FBOUNZLGtDQUFXO0FBSUg7SUFEaEIsSUFBQSxzQkFBUyxFQUFDLG9CQUFLLENBQUMsdUJBQXVCLENBQUM7a0RBQ04sbURBQXVCLG9CQUF2QixtREFBdUI7bURBQUM7QUFFMUM7SUFEaEIsSUFBQSxzQkFBUyxFQUFDLG9CQUFLLENBQUMscUJBQXFCLENBQUM7a0RBQ04sK0NBQXFCLG9CQUFyQiwrQ0FBcUI7aURBQUM7QUFFdEM7SUFEaEIsSUFBQSxzQkFBUyxFQUFDLG9CQUFLLENBQUMsb0JBQW9CLENBQUM7a0RBQ04sNkNBQW9CLG9CQUFwQiw2Q0FBb0I7Z0RBQUM7QUFFcEM7SUFEaEIsSUFBQSxzQkFBUyxFQUFDLG9CQUFLLENBQUMsdUJBQXVCLENBQUM7a0RBQ0EsbURBQXVCLG9CQUF2QixtREFBdUI7MERBQUM7QUFFaEQ7SUFEaEIsSUFBQSxzQkFBUyxFQUFDLG9CQUFLLENBQUMsMEJBQTBCLENBQUM7a0RBQ0EseURBQTBCLG9CQUExQix5REFBMEI7NkRBQUM7c0JBWjlELFdBQVc7SUFEdkIsSUFBQSxvQkFBTyxHQUFFO0dBQ0csV0FBVyxDQThDdkIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxKb3NlcGhcXERlc2t0b3BcXFNvdXJjZVxcVXNlcl9NYW5hZ2VtZW50X0FwcFxcYXBwXFxzZXJ2ZXJcXHNyY1xcc2VydmljZXNcXHVzZXIuc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBdXRvV2lyZWQsIFNlcnZpY2UgfSBmcm9tIFwiLi4vZGVjb3JhdG9yc1wiO1xyXG5pbXBvcnQgeyBFcnJvclJlc3BvbnNlIH0gZnJvbSBcIi4uL21vZGVscy9lcnJvci1yZXNwb25zZS5tb2RlbFwiO1xyXG5pbXBvcnQge2hhc2h9IGZyb20gXCJiY3J5cHRcIjtcclxuaW1wb3J0ICogYXMgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcclxuaW1wb3J0IHsgVFlQRVMgfSBmcm9tIFwiLi4vdHlwZXMvYmluZGluZy50eXBlXCI7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiLi4vZW50aXRpZXMvdXNlci5lbnRpdHlcIjtcclxuaW1wb3J0IHsgUmVjaXBpZW50IH0gZnJvbSBcIi4uL3R5cGVzL3JlY2lwaWVudC50eXBlXCI7XHJcbmltcG9ydCB7IEF1dGhTZXJ2aWNlSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvYXV0aC1zZXJ2aWNlLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBBdXRoIH0gZnJvbSBcIi4uL2VudGl0aWVzL2F1dGguZW50aXR5XCI7XHJcbmltcG9ydCB7IFJlcXVlc3QgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgeyBBdXRoUmVwb3NpdG9yeUludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2F1dGgtcmVwb3NpdG9yeS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgVXNlclNlcnZpY2VJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy91c2VyLXNlcnZpY2UuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IFVzZXJSZXBvc2l0b3J5SW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvdXNlci1yZXBvc2l0b3J5LmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBVc2VyQ3JlYXRlUmVxdWVzdERUTyB9IGZyb20gXCIuLi9kdG9zL3JlcXVlc3RzL3VzZXItcmVxdWVzdC5kdG9cIjtcclxuaW1wb3J0IHsgRW5hYmxlZFN0YXR1cyB9IGZyb20gXCIuLi9kYXRhL3N0YXR1cy5kYXRhXCI7XHJcbmltcG9ydCB7IFVzZXJSb2xlIH0gZnJvbSBcIi4uL2RhdGEvcm9sZS5kYXRhXCI7XHJcbmltcG9ydCB7IFVzZXJDcmVhdGVSZXNwb25zZURUTywgVXNlclJlYWRSZXNwb25zZURUTyB9IGZyb20gXCIuLi9kdG9zL3Jlc3BvbnNlcy91c2VyLXJlc3BvbnNlLmR0b1wiO1xyXG5pbXBvcnQgeyBFbWFpbFNlcnZpY2VJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9lbWFpbC1zZXJ2aWNlLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBUb2tlbkdlbmVyYXRvckludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL3Rva2VuLWdlbmVyYXRvci5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgUGFzc3dvcmRHZW5lcmF0b3JJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9wYXNzd29yZC1nZW5lcmF0b3IuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENvbmZsaWN0RXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzL2NvbmZsaWN0LmVycm9yXCI7XHJcbmltcG9ydCB7IEludGVybmFsU2VydmVyRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzL2ludGVybmFsLXNlcnZlci5lcnJvclwiO1xyXG5pbXBvcnQgeyBSZXBvc2l0b3J5IH0gZnJvbSBcInR5cGVvcm1cIjtcclxuaW1wb3J0IHsgUm9sZSB9IGZyb20gXCIuLi9lbnRpdGllcy9yb2xlLmVudGl0eVwiO1xyXG5pbXBvcnQgeyBBcHBEYXRhU291cmNlIH0gZnJvbSBcIi4uL2NvbmZpZ3MvdHlwZU9ybS5jb25maWdcIjtcclxuaW1wb3J0IHsgUm9sZU5hbWVzRW51bSB9IGZyb20gXCIuLi90eXBlcy9yb2xlLW5hbWVzLnR5cGVcIjtcclxuaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tIFwiLi4vdHlwZXMvcmJhYy50eXBlXCI7XHJcbmltcG9ydCB7IFJlc291cmNlTm90Rm91bmRFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMvcmVzb3VyY2Utbm90LWZvdW5kLmVycm9yXCI7XHJcblxyXG5AU2VydmljZSgpXHJcbmV4cG9ydCBjbGFzcyBVc2VyU2VydmljZSBpbXBsZW1lbnRzIFVzZXJTZXJ2aWNlSW50ZXJmYWNle1xyXG5cclxuXHJcbiAgICBAQXV0b1dpcmVkKFRZUEVTLlVzZXJSZXBvc2l0b3J5SW50ZXJmYWNlKVxyXG4gICAgcHJpdmF0ZSByZWFkb25seSB1c2VyUmVwb3NpdG9yeSE6ICBVc2VyUmVwb3NpdG9yeUludGVyZmFjZTtcclxuICAgIEBBdXRvV2lyZWQoVFlQRVMuRW1haWxTZXJ2aWNlSW50ZXJmYWNlKVxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbWFpbFNlcnZpY2UhOiAgRW1haWxTZXJ2aWNlSW50ZXJmYWNlO1xyXG4gICAgQEF1dG9XaXJlZChUWVBFUy5BdXRoU2VydmljZUludGVyZmFjZSlcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXV0aFNlcnZpY2UhOiAgQXV0aFNlcnZpY2VJbnRlcmZhY2U7XHJcbiAgICBAQXV0b1dpcmVkKFRZUEVTLlRva2VuR2VuZXJhdG9ySW50ZXJmYWNlKVxyXG4gICAgcHJpdmF0ZSByZWFkb25seSB0b2tlbkdlbmVyYXRvclNlcnZpY2UhOiBUb2tlbkdlbmVyYXRvckludGVyZmFjZTtcclxuICAgIEBBdXRvV2lyZWQoVFlQRVMuUGFzc3dvcmRHZW5lcmF0b3JJbnRlcmZhY2UpXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhc3N3b3JkR2VuZXJhdG9yU2VydmljZSE6IFBhc3N3b3JkR2VuZXJhdG9ySW50ZXJmYWNlO1xyXG5cclxuXHJcbiAgICBhc3luYyBnZXRPbmUodXNlcklkOiBudW1iZXIpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLnVzZXJSZXBvc2l0b3J5LmZpbmRCeUlkKHVzZXJJZCk7XHJcbiAgICAgICAgaWYoIXVzZXIpe1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVzb3VyY2VOb3RGb3VuZEVycm9yKGBVc2VyIHdpdGggSUQgJHt1c2VySWR9IG5vdCBmb3VuZC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXNlclJlc3BvbnNlIDogVXNlclJlYWRSZXNwb25zZURUTyA9e1xyXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIHBob25lOiB1c2VyLnBob25lLFxyXG4gICAgICAgICAgICBmYWlsZWRMb2dpbnM6IHVzZXIuZmFpbGVkTG9naW5zLFxyXG4gICAgICAgICAgICBpc0VuYWJsZWQ6IHVzZXIuaXNFbmFibGVkLFxyXG4gICAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgICAgY3JlYXRlZEF0OiB1c2VyLmNyZWF0ZWRBdCxcclxuICAgICAgICAgICAgdXBkYXRlZEF0OiB1c2VyLnVwZGF0ZWRBdCxcclxuICAgICAgICAgICAgZnVsbG5hbWU6IHVzZXIuZnVsbG5hbWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVzZXJSZXNwb25zZTtcclxuICAgIH1cclxuICAgIGdldEFsbCgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgbW9kaWZ5KCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICByZWFjdGl2YXRlKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBkZWFjdGl2YXRlKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBcclxufSJdLCJ2ZXJzaW9uIjozfQ==